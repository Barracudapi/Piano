`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 2023/11/25 18:38:33
// Design Name: 
// Module Name: state
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module state(
input clk_out,     //周期0.5s的时钟信号
input M,
output reg [7:0] state=8'b0000_0000,           
output reg [4:0] m=0

    );
 
    
   always@(posedge clk_out)         
     state=state+1;
 
 
 always@(M,state)               //国际歌乐谱
   if(M)
     begin
     case(state) 
     0: m=5;                    
        
     1: m=8; 
     2: m=7;
     3: m=9;     
     4: m=8;   
     5: m=5;    
     6: m=3;
         
     7: m=6;   
     8: m=6;  
     9: m=4;
     10: m=0;
     11: m=6;     
        
     12: m=9;
     13: m=8;
     14: m=7;     
     15: m=6;
     16: m=5;
     17: m=4;
     
     18: m=3;     
     19: m=3;
     20: m=3;
     21: m=5;    
     
     22: m=8;  
     23: m=7;    
     24: m=9;
     25: m=8;
     26: m=5;
     27: m=3;        
     
     28: m=6;     
     29: m=6;    
     30: m=4;
     31: m=6;
     32: m=9;
     33: m=8;
         
     34: m=7;    
     35: m=8;
     36: m=11; 
     37: m=7;
     
     38: m=8;      
     39: m=8;
     40: m=8; 
     41: m=0; 
     42: m=10;      
     43: m=9; 
     
     44: m=7; 
     45: m=7;
     46: m=6;
     47: m=7;
     48: m=8;
     49: m=6;
     
     50: m=7;
     51: m=7; 
     52: m=5; 
     53: m=5;      
     54: m=4; 
     55: m=5;
      
     56: m=6;
     57: m=6;
     58: m=9;
     59: m=8;
     
     50: m=7;
     51: m=7; 
     52: m=5; 
     53: m=6;      
     54: m=4; 
     55: m=5;
      
     56: m=6;
     57: m=6;
     58: m=9;
     59: m=8;
     
     60: m=7;
     61: m=7; 
     62: m=7; 
     63: m=0;      
     64: m=9; 
         
     65: m=9;  
     66: m=7;
     67: m=5;
     68: m=5;
     69: m=4;
     70: m=5;
     
     71: m=10; 
     72: m=10; 
     73: m=8;      
     74: m=6;     
     75: m=7;     
     76: m=8;
     
     77: m=7;
     78: m=9;
     79: m=8;
     80: m=6;
     
     81: m=5; 
     82: m=5; 
     83: m=5;      
     84: m=0;     
     85: m=10;     
     86: m=9;
     
     87: m=8;
     88: m=8;
     89: m=5;
     90: m=3;    
          
     91: m=6; 
     92: m=6; 
     93: m=4;      
     94: m=0;     
     95: m=9;     
     96: m=8;
         
     97: m=7;
     98: m=7;
     99: m=6; 
     100: m=5;
          
     101: m=5; 
     102: m=5; 
     103: m=5;      
     104: m=0;     
     105: m=5; 
         
     106: m=10;    
     107: m=10;
     108: m=9;
     109: m=5;
          
     110: m=8;     //61
     111: m=8; 
     112: m=7; 
     113: m=7;
           
     114: m=6;     
     115: m=5;     
     116: m=6;    
     117: m=9;
     
     118: m=9;
     119: m=9;
     120: m=9;     
     121: m=0; 
     122: m=10; 
     123: m=9;
           
     124: m=8;     
     125: m=8;     
     126: m=5;    
     127: m=3;
     
     128: m=6;
     129: m=6;
     130: m=4;     
     131: m=0; 
     132: m=9; 
     133: m=8; 
          
     134: m=7;     //71
     135: m=7;     
     136: m=6;    
     137: m=5;
     
     138: m=10;
     139: m=10;
     140: m=10;     
     141: m=10; 
     
     142: m=12; 
     143: m=12;      
     144: m=11;     
     145: m=10;
          
     146: m=9;    
     147: m=10;
     148: m=11;
     149: m=0;     
     150: m=11; 
         
     151: m=10; 
     152: m=10; 
     153: m=9;      
     154: m=9;     
     155: m=8;     
     156: m=8;    
     157: m=8;
                                                        
     default: m=0;
     endcase
     end
    else if (~M)
      m=0;
 
     
     
endmodule
